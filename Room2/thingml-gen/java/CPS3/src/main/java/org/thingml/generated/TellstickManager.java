/**
 * File generated by the ThingML IDE
 * /!\Do not edit this file/!\
 * In case of a bug in the generated code,
 * please submit an issue on our GitHub
 **/

package org.thingml.generated;

import org.thingml.java.*;
import org.thingml.java.ext.*;

import org.thingml.generated.api.*;
import org.thingml.generated.messages.*;

import java.util.*;

/**
 * Definition for type : TellstickManager
 **/
public class TellstickManager extends Component  {

private List<AttributeListener> attListener = new ArrayList<AttributeListener>();
public void addAttributeListener(AttributeListener listener){
this.attListener.add(listener);
}

public void removeAttributeListener(AttributeListener listener){
this.attListener.remove(listener);
}

private boolean debug = false;
public boolean isDebug() {return debug;}
public void setDebug(boolean debug) {this.debug = debug;}
@Override
public String toString() {
String result = "instance " + getName() + "\n";
result += "\tts = " + TellstickManager_ts_var;
result += "\ti = " + TellstickManager_i_var;
result += "\tmodel = " + TellstickManager_model_var;
result += "\tproto = " + TellstickManager_proto_var;
result += "\tsid = " + TellstickManager_sid_var;
result += "\tdid = " + TellstickManager_did_var;
result += "\tdataTypes = " + TellstickManager_dataTypes_var;
result += "\ttemperature = " + TellstickManager_temperature_var;
result += "\thumidity = " + TellstickManager_humidity_var;
result += "\ttimeStamp = " + TellstickManager_timeStamp_var;
result += "\tname = " + TellstickManager_name_var;
result += "\tdevicetype = " + TellstickManager_devicetype_var;
result += "\tdevicemethods = " + TellstickManager_devicemethods_var;
result += "\tdevicelastcmd = " + TellstickManager_devicelastcmd_var;
result += "\tdevicelastval = " + TellstickManager_devicelastval_var;
result += "\tT = " + TellstickManager_T_var;
result += "";
return result;
}

private Collection<ITellstickManager_to_T1Client> to_T1_clients = Collections.synchronizedCollection(new LinkedList<ITellstickManager_to_T1Client>());
public synchronized void registerOnTo_T1(ITellstickManager_to_T1Client client){
to_T1_clients.add(client);
}

public synchronized void unregisterFromTo_T1(ITellstickManager_to_T1Client client){
to_T1_clients.remove(client);
}

private Collection<ITellstickManager_to_onoff1Client> to_onoff1_clients = Collections.synchronizedCollection(new LinkedList<ITellstickManager_to_onoff1Client>());
public synchronized void registerOnTo_onoff1(ITellstickManager_to_onoff1Client client){
to_onoff1_clients.add(client);
}

public synchronized void unregisterFromTo_onoff1(ITellstickManager_to_onoff1Client client){
to_onoff1_clients.remove(client);
}

private Collection<ITellstickManager_to_gdgClient> to_gdg_clients = Collections.synchronizedCollection(new LinkedList<ITellstickManager_to_gdgClient>());
public synchronized void registerOnTo_gdg(ITellstickManager_to_gdgClient client){
to_gdg_clients.add(client);
}

public synchronized void unregisterFromTo_gdg(ITellstickManager_to_gdgClient client){
to_gdg_clients.remove(client);
}

private void sendInitialize_via_to_T1(String PSM_Msg_initialize_ts_var){
//ThingML send
to_T1_port.send(initializeType.instantiate(PSM_Msg_initialize_ts_var));
//send to other clients
for(ITellstickManager_to_T1Client client : to_T1_clients){
client.initialize_from_to_T1(PSM_Msg_initialize_ts_var);
}}

private void sendInitialize_via_to_onoff1(String PSM_Msg_initialize_ts_var){
//ThingML send
to_onoff1_port.send(initializeType.instantiate(PSM_Msg_initialize_ts_var));
//send to other clients
for(ITellstickManager_to_onoff1Client client : to_onoff1_clients){
client.initialize_from_to_onoff1(PSM_Msg_initialize_ts_var);
}}

private void sendSensorinfo_via_to_gdg(String GeneralMsg_sensorinfo_model_var, String GeneralMsg_sensorinfo_proto_var, short GeneralMsg_sensorinfo_sid_var, short GeneralMsg_sensorinfo_dataTypes_var, float GeneralMsg_sensorinfo_temperature_var, int GeneralMsg_sensorinfo_humidity_var, int GeneralMsg_sensorinfo_timeStamp_var){
//ThingML send
to_gdg_port.send(sensorinfoType.instantiate(GeneralMsg_sensorinfo_model_var, GeneralMsg_sensorinfo_proto_var, GeneralMsg_sensorinfo_sid_var, GeneralMsg_sensorinfo_dataTypes_var, GeneralMsg_sensorinfo_temperature_var, GeneralMsg_sensorinfo_humidity_var, GeneralMsg_sensorinfo_timeStamp_var));
//send to other clients
for(ITellstickManager_to_gdgClient client : to_gdg_clients){
client.sensorinfo_from_to_gdg(GeneralMsg_sensorinfo_model_var, GeneralMsg_sensorinfo_proto_var, GeneralMsg_sensorinfo_sid_var, GeneralMsg_sensorinfo_dataTypes_var, GeneralMsg_sensorinfo_temperature_var, GeneralMsg_sensorinfo_humidity_var, GeneralMsg_sensorinfo_timeStamp_var);
}}

private void sendDeviceinfo_via_to_gdg(short GeneralMsg_deviceinfo_did_var, String GeneralMsg_deviceinfo_name_var, String GeneralMsg_deviceinfo_model_var, String GeneralMsg_deviceinfo_proto_var, String GeneralMsg_deviceinfo_ttype_var, short GeneralMsg_deviceinfo_meth_var, String GeneralMsg_deviceinfo_lastCmd_var, int GeneralMsg_deviceinfo_lastValue_var){
//ThingML send
to_gdg_port.send(deviceinfoType.instantiate(GeneralMsg_deviceinfo_did_var, GeneralMsg_deviceinfo_name_var, GeneralMsg_deviceinfo_model_var, GeneralMsg_deviceinfo_proto_var, GeneralMsg_deviceinfo_ttype_var, GeneralMsg_deviceinfo_meth_var, GeneralMsg_deviceinfo_lastCmd_var, GeneralMsg_deviceinfo_lastValue_var));
//send to other clients
for(ITellstickManager_to_gdgClient client : to_gdg_clients){
client.deviceinfo_from_to_gdg(GeneralMsg_deviceinfo_did_var, GeneralMsg_deviceinfo_name_var, GeneralMsg_deviceinfo_model_var, GeneralMsg_deviceinfo_proto_var, GeneralMsg_deviceinfo_ttype_var, GeneralMsg_deviceinfo_meth_var, GeneralMsg_deviceinfo_lastCmd_var, GeneralMsg_deviceinfo_lastValue_var);
}}

//Attributes
private String TellstickManager_ts_var;
private short TellstickManager_i_var;
private String TellstickManager_model_var;
private String TellstickManager_proto_var;
private short TellstickManager_sid_var;
private short TellstickManager_did_var;
private short TellstickManager_dataTypes_var;
private float TellstickManager_temperature_var;
private int TellstickManager_humidity_var;
private int TellstickManager_timeStamp_var;
private String TellstickManager_name_var;
private String TellstickManager_devicetype_var;
private int TellstickManager_devicemethods_var;
private String TellstickManager_devicelastcmd_var;
private int TellstickManager_devicelastval_var;
private float TellstickManager_T_var;
private String debug_TellstickManager_ts_var;
private short debug_TellstickManager_i_var;
private String debug_TellstickManager_model_var;
private String debug_TellstickManager_proto_var;
private short debug_TellstickManager_sid_var;
private short debug_TellstickManager_did_var;
private short debug_TellstickManager_dataTypes_var;
private float debug_TellstickManager_temperature_var;
private int debug_TellstickManager_humidity_var;
private int debug_TellstickManager_timeStamp_var;
private String debug_TellstickManager_name_var;
private String debug_TellstickManager_devicetype_var;
private int debug_TellstickManager_devicemethods_var;
private String debug_TellstickManager_devicelastcmd_var;
private int debug_TellstickManager_devicelastval_var;
private float debug_TellstickManager_T_var;
//Ports
private Port to_T1_port;
private Port to_onoff1_port;
private Port to_gdg_port;
//Message types
protected final InitializeMessageType initializeType = new InitializeMessageType();
public InitializeMessageType getInitializeType(){
return initializeType;
}

protected final SensorinfoMessageType sensorinfoType = new SensorinfoMessageType();
public SensorinfoMessageType getSensorinfoType(){
return sensorinfoType;
}

protected final DeviceinfoMessageType deviceinfoType = new DeviceinfoMessageType();
public DeviceinfoMessageType getDeviceinfoType(){
return deviceinfoType;
}

protected final Set_polling_intervalMessageType set_polling_intervalType = new Set_polling_intervalMessageType();
public Set_polling_intervalMessageType getSet_polling_intervalType(){
return set_polling_intervalType;
}

protected final PromptMessageType promptType = new PromptMessageType();
public PromptMessageType getPromptType(){
return promptType;
}

//CEP Streams
//Empty Constructor
public TellstickManager() {
super();
}

//Constructor (all attributes)
public TellstickManager(String name, final String TellstickManager_ts_var, final short TellstickManager_i_var, final String TellstickManager_model_var, final String TellstickManager_proto_var, final short TellstickManager_sid_var, final short TellstickManager_did_var, final short TellstickManager_dataTypes_var, final float TellstickManager_temperature_var, final int TellstickManager_humidity_var, final int TellstickManager_timeStamp_var, final String TellstickManager_name_var, final String TellstickManager_devicetype_var, final int TellstickManager_devicemethods_var, final String TellstickManager_devicelastcmd_var, final int TellstickManager_devicelastval_var, final float TellstickManager_T_var) {
super(name);
this.TellstickManager_ts_var = TellstickManager_ts_var;
this.TellstickManager_i_var = TellstickManager_i_var;
this.TellstickManager_model_var = TellstickManager_model_var;
this.TellstickManager_proto_var = TellstickManager_proto_var;
this.TellstickManager_sid_var = TellstickManager_sid_var;
this.TellstickManager_did_var = TellstickManager_did_var;
this.TellstickManager_dataTypes_var = TellstickManager_dataTypes_var;
this.TellstickManager_temperature_var = TellstickManager_temperature_var;
this.TellstickManager_humidity_var = TellstickManager_humidity_var;
this.TellstickManager_timeStamp_var = TellstickManager_timeStamp_var;
this.TellstickManager_name_var = TellstickManager_name_var;
this.TellstickManager_devicetype_var = TellstickManager_devicetype_var;
this.TellstickManager_devicemethods_var = TellstickManager_devicemethods_var;
this.TellstickManager_devicelastcmd_var = TellstickManager_devicelastcmd_var;
this.TellstickManager_devicelastval_var = TellstickManager_devicelastval_var;
this.TellstickManager_T_var = TellstickManager_T_var;
}

//Getters and Setters for non readonly/final attributes
public String getTellstickManager_ts_var() {
return TellstickManager_ts_var;
}

public void setTellstickManager_ts_var(String TellstickManager_ts_var) {
this.TellstickManager_ts_var = TellstickManager_ts_var;
}

public short getTellstickManager_i_var() {
return TellstickManager_i_var;
}

public void setTellstickManager_i_var(short TellstickManager_i_var) {
this.TellstickManager_i_var = TellstickManager_i_var;
}

public String getTellstickManager_model_var() {
return TellstickManager_model_var;
}

public void setTellstickManager_model_var(String TellstickManager_model_var) {
this.TellstickManager_model_var = TellstickManager_model_var;
}

public String getTellstickManager_proto_var() {
return TellstickManager_proto_var;
}

public void setTellstickManager_proto_var(String TellstickManager_proto_var) {
this.TellstickManager_proto_var = TellstickManager_proto_var;
}

public short getTellstickManager_sid_var() {
return TellstickManager_sid_var;
}

public void setTellstickManager_sid_var(short TellstickManager_sid_var) {
this.TellstickManager_sid_var = TellstickManager_sid_var;
}

public short getTellstickManager_did_var() {
return TellstickManager_did_var;
}

public void setTellstickManager_did_var(short TellstickManager_did_var) {
this.TellstickManager_did_var = TellstickManager_did_var;
}

public short getTellstickManager_dataTypes_var() {
return TellstickManager_dataTypes_var;
}

public void setTellstickManager_dataTypes_var(short TellstickManager_dataTypes_var) {
this.TellstickManager_dataTypes_var = TellstickManager_dataTypes_var;
}

public float getTellstickManager_temperature_var() {
return TellstickManager_temperature_var;
}

public void setTellstickManager_temperature_var(float TellstickManager_temperature_var) {
this.TellstickManager_temperature_var = TellstickManager_temperature_var;
}

public int getTellstickManager_humidity_var() {
return TellstickManager_humidity_var;
}

public void setTellstickManager_humidity_var(int TellstickManager_humidity_var) {
this.TellstickManager_humidity_var = TellstickManager_humidity_var;
}

public int getTellstickManager_timeStamp_var() {
return TellstickManager_timeStamp_var;
}

public void setTellstickManager_timeStamp_var(int TellstickManager_timeStamp_var) {
this.TellstickManager_timeStamp_var = TellstickManager_timeStamp_var;
}

public String getTellstickManager_name_var() {
return TellstickManager_name_var;
}

public void setTellstickManager_name_var(String TellstickManager_name_var) {
this.TellstickManager_name_var = TellstickManager_name_var;
}

public String getTellstickManager_devicetype_var() {
return TellstickManager_devicetype_var;
}

public void setTellstickManager_devicetype_var(String TellstickManager_devicetype_var) {
this.TellstickManager_devicetype_var = TellstickManager_devicetype_var;
}

public int getTellstickManager_devicemethods_var() {
return TellstickManager_devicemethods_var;
}

public void setTellstickManager_devicemethods_var(int TellstickManager_devicemethods_var) {
this.TellstickManager_devicemethods_var = TellstickManager_devicemethods_var;
}

public String getTellstickManager_devicelastcmd_var() {
return TellstickManager_devicelastcmd_var;
}

public void setTellstickManager_devicelastcmd_var(String TellstickManager_devicelastcmd_var) {
this.TellstickManager_devicelastcmd_var = TellstickManager_devicelastcmd_var;
}

public int getTellstickManager_devicelastval_var() {
return TellstickManager_devicelastval_var;
}

public void setTellstickManager_devicelastval_var(int TellstickManager_devicelastval_var) {
this.TellstickManager_devicelastval_var = TellstickManager_devicelastval_var;
}

public float getTellstickManager_T_var() {
return TellstickManager_T_var;
}

public void setTellstickManager_T_var(float TellstickManager_T_var) {
this.TellstickManager_T_var = TellstickManager_T_var;
}

//Getters for Ports
public Port getTo_T1_port() {
return to_T1_port;
}
public Port getTo_onoff1_port() {
return to_onoff1_port;
}
public Port getTo_gdg_port() {
return to_gdg_port;
}
private CompositeState buildTellstickManager_TellstickBehavior(){
final List<AtomicState> states_TellstickManager_TellstickBehavior = new ArrayList<AtomicState>();
final AtomicState state_TellstickManager_TellstickBehavior_Init = new AtomicState("Init")
{
@Override
public void onEntry() {
initialize();
}

};
states_TellstickManager_TellstickBehavior.add(state_TellstickManager_TellstickBehavior_Init);
final List<Region> regions_TellstickManager_TellstickBehavior = new ArrayList<Region>();
final List<Handler> transitions_TellstickManager_TellstickBehavior = new ArrayList<Handler>();
final CompositeState state_TellstickManager_TellstickBehavior = new CompositeState("TellstickBehavior", states_TellstickManager_TellstickBehavior, state_TellstickManager_TellstickBehavior_Init, transitions_TellstickManager_TellstickBehavior, regions_TellstickManager_TellstickBehavior, false);
return state_TellstickManager_TellstickBehavior;
}

public Component buildBehavior(String session, Component root) {
if (root == null) {
//Init ports
to_T1_port = new Port(PortType.REQUIRED, "to_T1", this);
to_onoff1_port = new Port(PortType.REQUIRED, "to_onoff1", this);
to_gdg_port = new Port(PortType.REQUIRED, "to_gdg", this);
} else {
to_T1_port = ((TellstickManager)root).to_T1_port;
to_onoff1_port = ((TellstickManager)root).to_onoff1_port;
to_gdg_port = ((TellstickManager)root).to_gdg_port;
}
createCepStreams();if (session == null){
//Init state machine
behavior = buildTellstickManager_TellstickBehavior();
}
return this;
}

private void observe_sensors() {
System.out.print(("SIMULATION: Observe_sensors\n"));
TellstickManager_model_var = (String) ("model");
TellstickManager_proto_var = (String) ("proto");
TellstickManager_sid_var = (short) (0);
TellstickManager_dataTypes_var = (short) (0);
TellstickManager_temperature_var = (float) (100);
TellstickManager_humidity_var = (int) (27);
TellstickManager_timeStamp_var = (int) (99999);
sendSensorinfo_via_to_gdg((String) (getTellstickManager_model_var()), (String) (getTellstickManager_proto_var()), (short) (getTellstickManager_sid_var()), (short) (getTellstickManager_dataTypes_var()), (float) (getTellstickManager_temperature_var()), (int) (getTellstickManager_humidity_var()), (int) (getTellstickManager_timeStamp_var()));
}
private void observe_devices() {
System.out.print(("SIMULATION: Observe_devices\n"));
TellstickManager_did_var = (short) (0);
TellstickManager_name_var = (String) ("name");
TellstickManager_model_var = (String) ("model");
TellstickManager_proto_var = (String) ("proto");
TellstickManager_devicetype_var = (String) ("devicetype");
TellstickManager_devicemethods_var = (int) (5);
TellstickManager_devicelastcmd_var = (String) ("lastcommand");
TellstickManager_devicelastval_var = (int) (999);
sendDeviceinfo_via_to_gdg((short) (getTellstickManager_did_var()), (String) (getTellstickManager_name_var()), (String) (getTellstickManager_model_var()), (String) (getTellstickManager_proto_var()), (String) (getTellstickManager_devicetype_var()), (short) (getTellstickManager_devicemethods_var()), (String) (getTellstickManager_devicelastcmd_var()), (int) (getTellstickManager_devicelastval_var()));
}
private void initialize() {
TellstickManager_ts_var = (String) ("Tellstick Duo");
sendInitialize_via_to_T1((String) (getTellstickManager_ts_var()));
sendInitialize_via_to_onoff1((String) (getTellstickManager_ts_var()));
observe_sensors();
observe_devices();
}
}
